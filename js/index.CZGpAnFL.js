var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,o=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l,s=(e,a)=>{for(var t in a||(a={}))n.call(a,t)&&o(e,t,a[t]);if(l)for(var t of l(a))i.call(a,t)&&o(e,t,a[t]);return e},r=(e,l)=>a(e,t(l)),u=(e,a,t)=>new Promise(((l,n)=>{var i=e=>{try{s(t.next(e))}catch(a){n(a)}},o=e=>{try{s(t.throw(e))}catch(a){n(a)}},s=e=>e.done?l(e.value):Promise.resolve(e.value).then(i,o);s((t=t.apply(e,a)).next())}));import{a8 as c,al as d,c2 as v,Z as p,b1 as m,c3 as f,ab as h,aa as g,ae as y,aN as b,aB as w,ac as I,an as C,af as k,ag as _,c4 as x,bp as S,bE as V,c5 as $,bs as B,c6 as E,bF as O,c1 as T,bx as M,bz as P,by as H,bw as z,aG as L,b$ as N,aF as A,bH as j,c0 as D,bL as G,bG as U,aI as R}from"./usePageList.DAaOt7WE.js";import{Z as F,y as W,T as q,F as Y,R as Z,U as J,af as K,A as X,ao as Q,z as ee,N as ae,b0 as te,x as le,B as ne,C as ie,I as oe,J as se,_ as re,H as ue,E as ce,a0 as de,a9 as ve,ae as pe,aa as me,a4 as fe,D as he,a5 as ge,a2 as ye,ai as be,L as we,G as Ie,a8 as Ce,a$ as ke,aO as _e,aG as xe,aq as Se,Y as Ve,V as $e,a3 as Be,$ as Ee}from"./index.CCFNUvyZ.js";const Oe=c({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:{type:Boolean,default:!1}}),Te={change:(e,a)=>[e,a].every(d)},Me=Symbol("carouselContextKey"),Pe=(e,a,t)=>{const{children:l,addChild:n,removeChild:i}=v(ae(),"ElCarouselItem"),o=F(),s=W(-1),r=W(null),u=W(!1),c=W(),d=W(0),h=W(!0),g=W(!0),y=W(!1),b=q((()=>"never"!==e.arrow&&!Y(C))),w=q((()=>l.value.some((e=>e.props.label.toString().length>0)))),I=q((()=>"card"===e.type)),C=q((()=>"vertical"===e.direction)),k=q((()=>"auto"!==e.height?{height:e.height}:{height:`${d.value}px`,overflow:"hidden"})),_=p((e=>{B(e)}),300,{trailing:!0}),x=p((a=>{!function(a){"hover"===e.trigger&&a!==s.value&&(s.value=a,g.value||(y.value=!0))}(a)}),300);function S(){r.value&&(clearInterval(r.value),r.value=null)}function V(){e.interval<=0||!e.autoplay||r.value||(r.value=setInterval((()=>$()),e.interval))}const $=()=>{g.value||(y.value=!0),g.value=!1,s.value<l.value.length-1?s.value=s.value+1:e.loop?s.value=0:y.value=!1};function B(a){if(g.value||(y.value=!0),g.value=!1,Z(a)){const e=l.value.filter((e=>e.props.name===a));e.length>0&&(a=l.value.indexOf(e[0]))}if(a=Number(a),Number.isNaN(a)||a!==Math.floor(a))return;const t=l.value.length,n=s.value;s.value=a<0?e.loop?t-1:0:a>=t?e.loop?0:t-1:a,n===s.value&&E(n),O()}function E(e){l.value.forEach(((a,t)=>{a.translateItem(t,s.value,e)}))}function O(){S(),e.pauseOnHover||V()}J((()=>s.value),((e,t)=>{E(t),h.value&&(e%=2,t%=2),t>-1&&a("change",e,t)})),J((()=>e.autoplay),(e=>{e?V():S()})),J((()=>e.loop),(()=>{B(s.value)})),J((()=>e.interval),(()=>{O()}));const T=K();return X((()=>{J((()=>l.value),(()=>{l.value.length>0&&B(e.initialIndex)}),{immediate:!0}),T.value=m(c.value,(()=>{E()})),V()})),Q((()=>{S(),c.value&&T.value&&T.value.stop()})),ee(Me,{root:c,isCardType:I,isVertical:C,items:l,loop:e.loop,addItem:n,removeItem:i,setActiveItem:B,setContainerHeight:function(a){"auto"===e.height&&(d.value=a)}}),{root:c,activeIndex:s,arrowDisplay:b,hasLabel:w,hover:u,isCardType:I,isTransitioning:y,items:l,isVertical:C,containerStyle:k,isItemsTwoLength:h,handleButtonEnter:function(e){Y(C)||l.value.forEach(((a,t)=>{e===function(e,a){var t,n,i,o;const s=Y(l),r=s.length;if(0===r||!e.states.inStage)return!1;const u=a+1,c=a-1,d=r-1,v=s[d].states.active,p=s[0].states.active,m=null==(n=null==(t=s[u])?void 0:t.states)?void 0:n.active,f=null==(o=null==(i=s[c])?void 0:i.states)?void 0:o.active;return a===d&&p||m?"left":!!(0===a&&v||f)&&"right"}(a,t)&&(a.states.hover=!0)}))},handleTransitionEnd:function(){y.value=!1},handleButtonLeave:function(){Y(C)||l.value.forEach((e=>{e.states.hover=!1}))},handleIndicatorClick:function(e){e!==s.value&&(g.value||(y.value=!0)),s.value=e},handleMouseEnter:function(){u.value=!0,e.pauseOnHover&&S()},handleMouseLeave:function(){u.value=!1,V()},setActiveItem:B,prev:function(){B(s.value-1)},next:function(){B(s.value+1)},PlaceholderItem:function(){var a;const t=null==(a=o.default)?void 0:a.call(o);if(!t)return null;const l=f(t).filter((e=>te(e)&&"ElCarouselItem"===e.type.name));return 2===(null==l?void 0:l.length)&&e.loop&&!I.value?(h.value=!0,l):(h.value=!1,null)},isTwoLengthShow:e=>!h.value||(s.value<=1?e<=1:e>1),throttledArrowClick:_,throttledIndicatorHover:x}},He=["aria-label"],ze=["aria-label"],Le=["onMouseenter","onClick"],Ne=["aria-label"],Ae={key:0},je={key:3,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},De=[ue("defs",null,[ue("filter",{id:"elCarouselHorizontal"},[ue("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),ue("filter",{id:"elCarouselVertical"},[ue("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])],-1)],Ge=le({name:"ElCarousel"});var Ue=I(le(r(s({},Ge),{props:Oe,emits:Te,setup(e,{expose:a,emit:t}){const l=e,{root:n,activeIndex:i,arrowDisplay:o,hasLabel:s,hover:r,isCardType:u,items:c,isVertical:d,containerStyle:v,handleButtonEnter:p,handleButtonLeave:m,isTransitioning:f,handleIndicatorClick:I,handleMouseEnter:C,handleMouseLeave:k,handleTransitionEnd:_,setActiveItem:x,prev:S,next:V,PlaceholderItem:$,isTwoLengthShow:B,throttledArrowClick:E,throttledIndicatorHover:O}=Pe(l,t),T=h("carousel"),{t:M}=g(),P=q((()=>{const e=[T.b(),T.m(l.direction)];return Y(u)&&e.push(T.m("card")),e})),H=q((()=>{const e=[T.e("container")];return l.motionBlur&&Y(f)&&e.push(Y(d)?`${T.namespace.value}-transitioning-vertical`:`${T.namespace.value}-transitioning`),e})),z=q((()=>{const e=[T.e("indicators"),T.em("indicators",l.direction)];return Y(s)&&e.push(T.em("indicators","labels")),"outside"===l.indicatorPosition&&e.push(T.em("indicators","outside")),Y(d)&&e.push(T.em("indicators","right")),e}));return a({setActiveItem:x,prev:S,next:V}),(e,a)=>(ne(),ie("div",{ref_key:"root",ref:n,class:ce(Y(P)),onMouseenter:a[7]||(a[7]=de(((...e)=>Y(C)&&Y(C)(...e)),["stop"])),onMouseleave:a[8]||(a[8]=de(((...e)=>Y(k)&&Y(k)(...e)),["stop"]))},[Y(o)?(ne(),oe(me,{key:0,name:"carousel-arrow-left",persisted:""},{default:se((()=>[re(ue("button",{type:"button",class:ce([Y(T).e("arrow"),Y(T).em("arrow","left")]),"aria-label":Y(M)("el.carousel.leftArrow"),onMouseenter:a[0]||(a[0]=e=>Y(p)("left")),onMouseleave:a[1]||(a[1]=(...e)=>Y(m)&&Y(m)(...e)),onClick:a[2]||(a[2]=de((e=>Y(E)(Y(i)-1)),["stop"]))},[ve(Y(y),null,{default:se((()=>[ve(Y(b))])),_:1})],42,He),[[pe,("always"===e.arrow||Y(r))&&(l.loop||Y(i)>0)]])])),_:1})):fe("v-if",!0),Y(o)?(ne(),oe(me,{key:1,name:"carousel-arrow-right",persisted:""},{default:se((()=>[re(ue("button",{type:"button",class:ce([Y(T).e("arrow"),Y(T).em("arrow","right")]),"aria-label":Y(M)("el.carousel.rightArrow"),onMouseenter:a[3]||(a[3]=e=>Y(p)("right")),onMouseleave:a[4]||(a[4]=(...e)=>Y(m)&&Y(m)(...e)),onClick:a[5]||(a[5]=de((e=>Y(E)(Y(i)+1)),["stop"]))},[ve(Y(y),null,{default:se((()=>[ve(Y(w))])),_:1})],42,ze),[[pe,("always"===e.arrow||Y(r))&&(l.loop||Y(i)<Y(c).length-1)]])])),_:1})):fe("v-if",!0),ue("div",{class:ce(Y(H)),style:ge(Y(v)),onTransitionend:a[6]||(a[6]=(...e)=>Y(_)&&Y(_)(...e))},[ve(Y($)),he(e.$slots,"default")],38),"none"!==e.indicatorPosition?(ne(),ie("ul",{key:2,class:ce(Y(z))},[(ne(!0),ie(ye,null,be(Y(c),((a,t)=>re((ne(),ie("li",{key:t,class:ce([Y(T).e("indicator"),Y(T).em("indicator",e.direction),Y(T).is("active",t===Y(i))]),onMouseenter:e=>Y(O)(t),onClick:de((e=>Y(I)(t)),["stop"])},[ue("button",{class:ce(Y(T).e("button")),"aria-label":Y(M)("el.carousel.indicator",{index:t+1})},[Y(s)?(ne(),ie("span",Ae,we(a.props.label),1)):fe("v-if",!0)],10,Ne)],42,Le)),[[pe,Y(B)(t)]]))),128))],2)):fe("v-if",!0),l.motionBlur?(ne(),ie("svg",je,De)):fe("v-if",!0)],34))}})),[["__file","carousel.vue"]]);const Re=c({name:{type:String,default:""},label:{type:[String,Number],default:""}}),Fe=(e,a)=>{const t=Ie(Me),l=ae(),n=.83,i=W(),o=W(!1),s=W(0),r=W(1),u=W(!1),c=W(!1),d=W(!1),v=W(!1),{isCardType:p,isVertical:m}=t;const f=(e,a,l)=>{var o;const f=Y(p),h=null!=(o=t.items.value.length)?o:Number.NaN,g=e===a;f||C(l)||(v.value=g||e===l),!g&&h>2&&t.loop&&(e=function(e,a,t){const l=t-1,n=t/2;return 0===a&&e===l?-1:a===l&&0===e?t:e<a-1&&a-e>=n?t+1:e>a+1&&e-a>=n?-2:e}(e,a,h));const y=Y(m);u.value=g,f?(d.value=Math.round(Math.abs(e-a))<=1,s.value=function(e,a){var l,n;const i=Y(m)?(null==(l=t.root.value)?void 0:l.offsetHeight)||0:(null==(n=t.root.value)?void 0:n.offsetWidth)||0;return d.value?i*(1.17*(e-a)+1)/4:e<a?-1.83*i/4:3.83*i/4}(e,a),r.value=Y(u)?1:n):s.value=function(e,a,l){const n=t.root.value;return n?((l?n.offsetHeight:n.offsetWidth)||0)*(e-a):0}(e,a,y),c.value=!0,g&&i.value&&t.setContainerHeight(i.value.offsetHeight)};return X((()=>{t.addItem({props:e,states:Ce({hover:o,translate:s,scale:r,active:u,ready:c,inStage:d,animating:v}),uid:l.uid,translateItem:f})})),ke((()=>{t.removeItem(l.uid)})),{carouselItemRef:i,active:u,animating:v,hover:o,inStage:d,isVertical:m,translate:s,isCardType:p,scale:r,ready:c,handleItemClick:function(){if(t&&Y(p)){const e=t.items.value.findIndex((({uid:e})=>e===l.uid));t.setActiveItem(e)}}}},We=le({name:"ElCarouselItem"});var qe=I(le(r(s({},We),{props:Re,setup(e){const a=e,t=h("carousel"),{carouselItemRef:l,active:n,animating:i,hover:o,inStage:s,isVertical:r,translate:u,isCardType:c,scale:d,ready:v,handleItemClick:p}=Fe(a),m=q((()=>[t.e("item"),t.is("active",n.value),t.is("in-stage",s.value),t.is("hover",o.value),t.is("animating",i.value),{[t.em("item","card")]:c.value,[t.em("item","card-vertical")]:c.value&&r.value}])),f=q((()=>({transform:[`${"translate"+(Y(r)?"Y":"X")}(${Y(u)}px)`,`scale(${Y(d)})`].join(" ")})));return(e,a)=>re((ne(),ie("div",{ref_key:"carouselItemRef",ref:l,class:ce(Y(m)),style:ge(Y(f)),onClick:a[0]||(a[0]=(...e)=>Y(p)&&Y(p)(...e))},[Y(c)?re((ne(),ie("div",{key:0,class:ce(Y(t).e("mask"))},null,2)),[[pe,!Y(n)]]):fe("v-if",!0),he(e.$slots,"default")],6)),[[pe,Y(v)]])}})),[["__file","carousel-item.vue"]]);const Ye=k(Ue,{CarouselItem:qe}),Ze=_(qe),Je={class:"banner"},Ke=["href"],Xe=["src","alt"],Qe=_e({__name:"Banner",setup(e){const a=Ce({autoplay:!1,autoplaySpeed:2e3,dots:"inside",radiusDot:!1,trigger:"click",arrow:"hover"}),t=W([]);return x(S.stringify({populate:{img:"*"}})).then((e=>{t.value=e.data.data.map((e=>({id:e.id,title:e.attributes.title,img:V(e.attributes.img),url:e.attributes.url})))})),(e,l)=>{const n=Ze,i=Ye;return ne(),ie("div",Je,[ve(i,{modelValue:e.value,"onUpdate:modelValue":l[0]||(l[0]=a=>e.value=a),height:250,autoplay:Y(a).autoplay,"autoplay-speed":Y(a).autoplaySpeed,dots:Y(a).dots,"radius-dot":Y(a).radiusDot,trigger:Y(a).trigger,arrow:Y(a).arrow},{default:se((()=>[(ne(!0),ie(ye,null,be(Y(t),(e=>(ne(),oe(n,{class:"img-box",key:e.id},{default:se((()=>[ue("a",{href:e.url,target:"_blank"},[ue("img",{src:e.img,alt:e.title},null,8,Xe)],8,Ke)])),_:2},1024)))),128))])),_:1},8,["modelValue","autoplay","autoplay-speed","dots","radius-dot","trigger","arrow"])])}}},[["__scopeId","data-v-624046ce"]]),ea={class:"home"},aa={class:"left"},ta={class:"right"},la={class:"search-box"},na={gap:10,cols:5},ia=["src","alt","onClick"],oa=_e({__name:"index",setup(e){const a=xe(),t=W([]);(()=>{u(this,null,(function*(){const e=yield $();t.value=e.data.data.map((e=>({id:e.id,name:e.attributes.name})))}))})();const l=W([]),n=W(0),i=W(1),o=W(20),s=Ce({name:{$containsi:""},templ_type:{$in:[]}}),r=()=>u(this,null,(function*(){const e={populate:{img:"*"},filters:Ve(s),fields:["name"],pagination:{page:i.value,pageSize:o.value}},a=B.service();try{const a=yield E(S.stringify(e));l.value=[],yield $e(),n.value=a.data.meta.pagination.total,l.value=a.data.data.map((e=>({id:e.id,name:e.attributes.name,src:O(e.attributes.img)})))}catch(t){}a.close()})),c=()=>{i.value=1,r()};r();return(e,u)=>{const d=z,v=L,p=Se("router-link"),m=N,f=A,h=U,g=j,y=R,b=Se("Page"),w=D,I=T;return ne(),ie("div",ea,[ve(I,null,{default:se((()=>[ve(m,{style:{position:"fixed",width:"100%",zIndex:99}},{default:se((()=>[ue("div",aa,[ve(M),ve(d,{direction:"vertical"}),Be(" 在线设计工具 ")]),ue("div",ta,[ve(p,{custom:"",to:"/design/editor",target:"_blank"},{default:se((({navigate:e})=>[ve(v,{link:"",onClick:e},{default:se((()=>[Be("新建设计")])),_:2},1032,["onClick"])])),_:1}),ve(d,{direction:"vertical"}),ve(P),ve(H)])])),_:1}),ve(w,{style:{margin:"40px 20px 0",minHeight:"500px",minWidth:"1200px"}},{default:se((()=>[ve(Qe),ue("div",la,[ve(f,{size:"large",class:"search-input",clearable:"",search:"",modelValue:Y(s).name.$containsi,"onUpdate:modelValue":u[0]||(u[0]=e=>Y(s).name.$containsi=e),"enter-button":"",placeholder:"请输入关键词",onSearch:c},{append:se((()=>[ve(v,{type:"primary",icon:Y(G)},null,8,["icon"])])),_:1},8,["modelValue"]),ve(g,{modelValue:Y(s).templ_type.$in,"onUpdate:modelValue":u[1]||(u[1]=e=>Y(s).templ_type.$in=e),onTabClick:c},{default:se((()=>[(ne(!0),ie(ye,null,be(Y(t),(e=>(ne(),oe(h,{name:e.id,label:e.name,key:e.id},null,8,["name","label"])))),128))])),_:1},8,["modelValue"])]),ue("wc-waterfall",na,[(ne(!0),ie(ye,null,be(Y(l),(e=>(ne(),ie("div",{class:"img-item grid-item",key:e.id},[ve(y,{content:e.name,placement:"top"},{default:se((()=>[ue("img",{src:e.src,alt:e.name,onClick:t=>(e=>{const t=a.resolve({path:"/",query:{tempId:e.id}});window.open(t.href,"_blank")})(e)},null,8,ia)])),_:2},1032,["content"])])))),128))]),ve(b,{class:"page",total:Y(n),modelValue:Y(i),"onUpdate:modelValue":u[2]||(u[2]=e=>Ee(i)?i.value=e:null),onOnChange:r,onOnPageSizeChange:u[3]||(u[3]=e=>o.value=e),"page-size":Y(o),"show-sizer":""},null,8,["total","modelValue","page-size"])])),_:1})])),_:1})])}}},[["__scopeId","data-v-5040fb5a"]]);export{oa as default};
